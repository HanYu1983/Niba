;; 179030_11E_U_BL209R_blue
;; R
;; CCA
;; νガンダム［†］
;; νガンダム系　MS　専用「アムロ・レイ」
;; 戦闘配備　〔１〕：サイコミュ（３）　〔１〕：改装［νガンダム系］
;; 『恒常』：本来の記述に「特徴：装弾」を持つ自軍Gがある場合、このカードは、合計国力ー１してプレイできる。
;; 『常駐』：青のGサインを持つ自軍Gが５枚以上ある場合、このカードと同じエリアにいる全ての自軍ユニットは、敵軍効果では破壊されずダメージを受けない。
{:id "179030_11E_U_BL209R_blue"
 :gsign [:blue :uc]
 :type :unit
 :texts {"『恒常』：本来の記述に「特徴：装弾」を持つ自軍Gがある場合、このカードは、合計国力ー１してプレイできる。"
         {:type [:automatic :constant]
          :game-effects ['(fn [ctx runtime]
                            (let [card-id (-> runtime game.define.runtime/get-card-id)
                                  player-id (-> runtime game.define.runtime/get-player-id)
                                  enabled (-> ctx
                                              (game.data.dynamic/get-my-g player-id)
                                              ((fn [ctx] (mapcat game.data.dynamic/get-card-chars ctx)))
                                              (contains? "装弾"))]
                              (when enabled
                                ["合計国力+Nしてプレイできる" [card-id] -1])))]}
         "『常駐』：青のGサインを持つ自軍Gが５枚以上ある場合、このカードと同じエリアにいる全ての自軍ユニットは、敵軍効果では破壊されずダメージを受けない。"
         {:type [:automatic :residents]
          :game-effects ['(fn [ctx runtime]
                            (let [is-every-blue-g (-> ctx game.data.dynamic/get-my-g ((fn [gs] (map game.data.dynamic/get-card-color gs))) ((fn [colors] (every? game.data.dynamic/is-card-color-blue colors))))
                                  is-my-g-more-then-5 (-> ctx game.data.dynamic/get-my-g count (> 5))
                                  enabled (and is-every-blue-g is-my-g-more-then-5)]
                              (when enabled
                                ["敵軍効果では破壊されずダメージを受けない" ["0" "1" "2"]])))]}}
 :play-card {:use-timing [:maintenance :own]
             :script '(fn [ctx runtime]
                        #_(helper/get-play-card-text 6 [:blue :blue :blue]))}}